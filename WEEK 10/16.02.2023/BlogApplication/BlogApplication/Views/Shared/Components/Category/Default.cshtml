@model List< Category>

<aside class="widget widget_categories">
    <div class="widget-title">
        <h3>Categories</h3>
    </div>
    <div class="widget-detail">
        <ul>
            @foreach (Category category in Model.Where(c => c.MasterCategoryId == null))
            {
                <li>
                    <a href="#">@category.Title<span>(2)</span></a>

                    @if (Model.Any(c => c.MasterCategoryId == category.Id))
                    {
                        <ul>
                            @foreach (Category subCategory in Model.Where(c => c.MasterCategoryId == category.Id))
                            {
                                <li><a href="#">@subCategory.Title<span>(5)</span></a></li>
                            }
                        </ul>
                    }
                </li>
            }
        </ul>
    </div>
</aside>